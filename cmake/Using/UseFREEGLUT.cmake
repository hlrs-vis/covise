MACRO(USE_FREEGLUT)
  COVISE_FIND_PACKAGE(FREEGLUT)
  IF ((NOT FREEGLUT_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing FREEGLUT")
    RETURN()
  ENDIF((NOT FREEGLUT_FOUND) AND (${ARGC} LESS 1))
  IF (NOT FREEGLUT_FOUND)
  ENDIF(NOT FREEGLUT_FOUND)
  IF(NOT FREEGLUT_USED AND FREEGLUT_FOUND)
    SET(FREEGLUT_USED TRUE)
    USE_OPENGL(optional)
    ADD_DEFINITIONS(-D GLUT_NO_LIB_PRAGMA)  
    
    SET(CUDA_NVCC_DEFINITIONS ${CUDA_NVCC_DEFINITIONS} GLUT_NO_LIB_PRAGMA)
    INCLUDE_DIRECTORIES(SYSTEM ${FREEGLUT_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${FREEGLUT_LIBRARIES})
    IF(UNIX AND NOT APPLE)
      # who needs this? SET(EXTRA_LIBS ${EXTRA_LIBS} Xxf86vm)
    ENDIF()
  ENDIF()
ENDMACRO(USE_FREEGLUT)

