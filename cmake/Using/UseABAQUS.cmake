MACRO(USE_ABAQUS)
  FIND_PACKAGE(Abaqus)
  IF ((NOT ABAQUS_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing ABAQUS")
    RETURN()
  ENDIF((NOT ABAQUS_FOUND) AND (${ARGC} LESS 1))
  IF(NOT ABAQUS_USED AND ABAQUS_FOUND)
    SET(ABAQUS_USED TRUE)
    INCLUDE_DIRECTORIES(SYSTEM ${ABAQUS_INCLUDE_DIR})
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${ABAQUS_LIBRARIES})
  ENDIF()
ENDMACRO(USE_ABAQUS)

