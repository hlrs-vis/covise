MACRO(USE_BULLET)
  covise_find_package(Bullet CONFIG QUIET)
  if (BULLET_FOUND)
      # just keep BULLET_DEFINITIONS (e.g. for btScalar)
      set(BULLET_FOUND)
      set(BULLET_ROOT ${BULLET_ROOT_DIR})
      set(BULLET_INCLUDE_DIR)
      set(BULLET_INCLUDE_DIRS)
      set(BULLET_LIBRARIES)
  endif()
  covise_find_package(Bullet MODULE)
  IF ((NOT BULLET_FOUND) AND (${ARGC} LESS 1))
    USING_MESSAGE("Skipping because of missing BULLET")
    RETURN()
  ENDIF((NOT BULLET_FOUND) AND (${ARGC} LESS 1))
  IF(NOT BULLET_USED AND BULLET_FOUND)
    SET(BULLET_USED TRUE)
    INCLUDE_DIRECTORIES(SYSTEM ${BULLET_INCLUDE_DIRS} ${BULLET_INCLUDE_DIRS}/..)
    ADD_DEFINITIONS(${BULLET_DEFINITIONS} -DHAVE_BULLET)
    SET(EXTRA_LIBS ${EXTRA_LIBS} ${BULLET_LIBRARIES})
  ENDIF()
ENDMACRO(USE_BULLET)

