OPTION (COVISE_USE_XENOMAI "Use Xenomai" ON)
COVISE_FIND_PACKAGE(Xenomai)
if( NOT XENOMAI_FOUND OR NOT COVISE_USE_XENOMAI)
 RETURN()
endif( NOT XENOMAI_FOUND OR NOT COVISE_USE_XENOMAI)

USING(XERCESC)
USING(BOOST)
using(VehicleUtil)

COVISE_FIND_PACKAGE(V8)

SET(HEADERS
  servo.h
)
SET(SOURCES
  servo.cpp
)


IF(WIN32)
  RETURN()
ENDIF(WIN32)

INCLUDE_DIRECTORIES(
    ${OPENSCENEGRAPH_INCLUDE_DIRS}
   ${V8_INCLUDE_DIR}
)
 
 ADD_DEFINITIONS(${XENOMAI_DEFINITIONS})

 INCLUDE_DIRECTORIES(
   ${XENOMAI_INCLUDE_DIR}
 )



ADD_COVISE_EXECUTABLE(servo ${SOURCES} ${HEADERS})
TARGET_LINK_LIBRARIES(servo ${OPENSCENEGRAPH_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT})
ADD_COVISE_COMPILE_FLAGS(servo "-g0 -O3 -w -fno-strict-aliasing")

COVISE_INSTALL_TARGET(servo)


